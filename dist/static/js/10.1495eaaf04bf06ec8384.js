webpackJsonp([10],{IA22:function(e,t){},"oja+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mtWM"),o=a.n(s),r=a("HJfm"),n={data:function(){return{accountType:[{value:"1",label:"国内量化基金"},{value:"2",label:"海外量化基金"},{value:"3",label:"国内基本面基金"},{value:"4",label:"海外基本面基金"},{value:"5",label:"其他"}],accountStatus:[{value:"0",label:"使用中"},{value:"-1",label:"已停用"},{value:"1",label:"禁止媒体下载文件"}],userRoles:[],value1:"",value2:"",value3:"",modifyStatus:"",username:"",password:"",name:"",companyName:"",mobile:"",days:"0",modify:{},modifyId:"",remake:"",roleName:"",getRoleName:"",authorization:"",roleTime:"",token:""}},created:function(){var e=window.localStorage;this.authorization=e.getItem("userId"),this.token=e.getItem("token")},mounted:function(){"add"!=this.$route.params.key&&(this.modify=this.$route.params.row,this.password="******",this.name=this.modify.name,this.companyName=this.modify.companyName,this.mobile=this.modify.mobile,this.value1=this.modify.type,this.value2=this.modify.status,"使用中"==this.modify.status?this.value2="0":"已停用"==this.modify.status?this.value2="-1":"禁止媒体下载文件"==this.modify.status&&(this.value2="1"),this.days=this.modify.days,this.value3=this.modify.roleId,this.modifyId=this.modify.id,this.username=this.modify.username,this.remake=this.modify.remake,this.roleName=this.modify.roleName,this.roleTime=this.modify.roleTime),this.getUserRoles()},methods:{selectValue:function(e){var t;t=this.userRoles.find(function(t){return t.id===e}),this.getRoleName=t.roleName},modifyUser:function(){var e=this;o()({url:r.b+"/userPermission/insertOrUpdateWebUser",method:"post",headers:{Authorization:"user-"+this.authorization+"-"+this.token},data:{name:this.name,status:this.value2,roleId:this.value3,type:this.value1,mobile:this.mobile,companyName:this.companyName,days:this.days,remake:this.remake,id:this.modifyId}}).then(function(t){t.data.msg?e.$router.push({name:"login"}):(e.$router.push({name:"userMnagement"}),e.$message({type:"success",message:"更新"+t.data.code+"条！"}))}).catch(function(e){console.log(e)})},addUser:function(){var e=this;if(this.password.length<6||this.password.length>20)return this.$message({message:"密码长度为6-20位!",type:"warning"}),!1;o()({url:r.b+"/userPermission/insertOrUpdateWebUser",method:"post",headers:{Authorization:"user-"+this.authorization+"-"+this.token},data:{username:this.username,password:this.password,name:this.name,status:0,roleId:this.value3,type:this.value1,mobile:this.mobile,companyName:this.companyName,days:this.days,remake:this.remake}}).then(function(t){t.data.msg?e.$router.push({name:"login"}):(e.$router.push({name:"userMnagement"}),e.$message({type:"success",message:"更新"+t.data.code+"条！"}))}).catch(function(e){console.log(e)})},goBack:function(){this.$router.go(-1)},getUserRoles:function(){var e=this;o()({url:r.b+"/userPermission/findRoles",method:"get",headers:{Authorization:"user-"+this.authorization+"-"+this.token},params:{roleName:"",pageSize:1e3,pageNum:0}}).then(function(t){if(t.data.msg)e.$router.push({name:"login"});else{e.userRolesTemp=t.data.list;for(var a=0;a<e.userRolesTemp.length;a++)-2!=e.userRolesTemp[a].state&&e.userRoles.push(e.userRolesTemp[a]);e.roleName=e.userRolesTemp[i].roleName}}).catch(function(e){console.log(e)})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addAccountNumber"},[a("div",{staticClass:"bx"},["add"==this.$route.params.key?a("h2",[e._v("新增账号")]):e._e(),e._v(" "),"modify"==this.$route.params.key?a("h2",[e._v("修改账号")]):e._e(),e._v(" "),"look"==this.$route.params.key?a("h2",[e._v("查看信息")]):e._e(),e._v(" "),a("div",{staticClass:"ul-dv"},[a("ul",[a("li",[a("span",[e._v("用户名")]),e._v(" "),"add"==this.$route.params.key?a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}):e._e(),e._v(" "),"modify"==this.$route.params.key?a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",disabled:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}):e._e(),e._v(" "),"look"==this.$route.params.key?a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",disabled:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}):e._e()]),e._v(" "),a("li",[a("span",[e._v("密码")]),e._v(" "),"add"==this.$route.params.key?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}):e._e(),e._v(" "),"modify"==this.$route.params.key?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text",disabled:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}):e._e(),e._v(" "),"look"==this.$route.params.key?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text",disabled:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}):e._e()]),e._v(" "),a("li",[a("span",[e._v("姓名")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),a("li",[a("span",[e._v("所属公司")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.companyName,expression:"companyName"}],attrs:{type:"text"},domProps:{value:e.companyName},on:{input:function(t){t.target.composing||(e.companyName=t.target.value)}}})]),e._v(" "),a("li",[a("span",[e._v("联系电话")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],attrs:{type:"text"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}})]),e._v(" "),a("li",[a("span",[e._v("用户类型")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.accountType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})}),1)],1),e._v(" "),a("li",[a("span",[e._v("账号状态")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.accountStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("li",[a("span",[e._v("用户角色")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectValue},model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}},e._l(e.userRoles,function(e){return a("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})}),1)],1),e._v(" "),"普通用户"!==e.getRoleName?a("li",[a("span",[e._v("角色有效期")]),e._v(" "),"look"==this.$route.params.key?a("input",{directives:[{name:"model",rawName:"v-model",value:e.roleTime,expression:"roleTime"}],attrs:{type:"text"},domProps:{value:e.roleTime},on:{input:function(t){t.target.composing||(e.roleTime=t.target.value)}}}):"look"!=this.$route.params.key?a("input",{directives:[{name:"model",rawName:"v-model",value:e.days,expression:"days"}],attrs:{type:"text"},domProps:{value:e.days},on:{input:function(t){t.target.composing||(e.days=t.target.value)}}}):e._e(),e._v(" "),"look"!=this.$route.params.key?a("i",[e._v("天")]):e._e()]):e._e(),e._v(" "),a("li",[a("span",[e._v("备注信息")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.remake,expression:"remake"}],attrs:{type:"text"},domProps:{value:e.remake},on:{input:function(t){t.target.composing||(e.remake=t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"btns"},["add"==this.$route.params.key?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addUser()}}},[e._v("确定")]):e._e(),e._v(" "),"modify"==this.$route.params.key?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.modifyUser()}}},[e._v("确定")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"info",plain:""},on:{click:function(t){return e.goBack()}}},[e._v("取消")])],1)])])},staticRenderFns:[]};var u=a("VU/8")(n,l,!1,function(e){a("IA22")},"data-v-119345ca",null);t.default=u.exports}});
//# sourceMappingURL=10.1495eaaf04bf06ec8384.js.map