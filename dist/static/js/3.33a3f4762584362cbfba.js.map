{"version":3,"sources":["webpack:///src/pages/fileUpload/index.vue","webpack:///./src/pages/fileUpload/index.vue?3655","webpack:///./src/pages/fileUpload/index.vue"],"names":["pages_fileUpload","data","options","valueId","fileDescription","tableData","date","content","pageSize","total","pageNum","dialogVisible","description","prefixName","created","storage","window","localStorage","this","authorization","getItem","token","methods","getLabels","_this","axios_default","url","constant","method","headers","Authorization","then","res","msg","$router","push","name","catch","err","console","log","uploadSuccess","response","file","fileList","$message","message","type","getFiles","$refs","upload","clearFiles","uploadError","error","beforeUpload","cvalueId","_this2","params","count","list","handleSizeChange","val","handleCurrentChange","handleDelete","index","row","_this3","$confirm","confirmButtonText","cancelButtonText","fileName","code","handleEdit","confirmRevision","_this4","cancelRevision","handleClose","done","_","filters","conversionBits","value","toFixed","computed","myData","myHeader","mounted","selectortype_template_index_0_src_pages_fileUpload","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","placeholder","model","callback","$$v","expression","_l","item","key","label","id","directives","rawName","domProps","on","input","$event","target","composing","ref","drag","action","on-success","on-error","before-upload","multiple","staticStyle","width","border","prop","align","scopedSlots","_u","fn","scope","_s","_f","size","click","$index","title","visible","before-close","update:visible","border-radius","line-height","slot","background","current-page","page-size","layout","size-change","current-change","update:currentPage","update:current-page","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.33a3f4762584362cbfba.js","sourcesContent":["<template>\n    <div class=\"fileUpload\">\n        <h2>文件上传</h2>\n        <div class=\"upload-dv\">\n            <ul>\n                <li>\n                    文件ID:\n                    <el-select v-model=\"valueId\" placeholder=\"请选择\">\n                        <el-option\n                        v-for=\"item in options\"\n                        :key=\"item.prefixName\"\n                        :label=\"item.id\"\n                        :value=\"item.prefixName\">\n                        </el-option>\n                    </el-select>\n                </li>\n                <li>\n                    文件描述：\n                    <input type=\"text\"  v-model=\"fileDescription\" placeholder=\"请输入文件描述\">\n                </li>\n            </ul>\n        </div>\n        <div class=\"upload-dv\">\n            <el-upload\n                class=\"upload-demo\"\n                drag\n                ref=\"upload\"\n                action=\"https://betaj.ssymmetry.com/backStageManagement/file/upload\"\n                :data=\"myData\"\n                :headers=\"myHeader\"\n                :on-success='uploadSuccess'\n                :on-error='uploadError'\t\n                :before-upload='beforeUpload'\n                multiple>\n                <i class=\"el-icon-upload\"></i>\n                <div class=\"el-upload__text\">将文件拖到此处，或<em>点击选择文件</em></div>\n                <!-- <div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/png文件，且不超过500kb</div> -->\n            </el-upload>\n        </div>\n        <div class=\"upload-dv\">\n            <!-- <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse;width:100%;\">\n                <tr>\n                    <th>人物</th>\n                    <th>介绍</th>\n                    <th>产品</th>\n                </tr>\n                <tr>\n                    <td>史蒂夫·保罗·乔布斯</td>\n                    <td>苹果CEO</td>\n                    <td>Apple系列</td>\n                </tr>\n            </table> -->\n           <div>\n                <el-table\n                    :data=\"tableData\"\n                    border\n                    style=\"width: 100%\">\n                <el-table-column\n                    prop=\"id\"\n                    width=\"120\"\n                    align=\"center\"\n                    label=\"文件ID\">\n                </el-table-column>\n                <el-table-column\n                    prop=\"fileName\"\n                    align=\"center\"\n                    label=\"文件名\">\n                </el-table-column>\n                <el-table-column\n                    align=\"center\"\n                    label=\"文件描述\">\n                     <template slot-scope=\"scope\">\n                        <span v-if=\"scope.row.description\">{{scope.row.description}}</span>\n                        <span v-else>——</span>\n                    </template>\n                </el-table-column> \n                <el-table-column\n                    prop=\"updateTime\"\n                    width=\"140\"\n                    align=\"center\"\n                    label=\"更新日期\">\n                </el-table-column>\n                <el-table-column\n                    width=\"120\"\n                    align=\"center\"\n                    label=\"文件大小\">\n                    <template slot-scope=\"scope\">\n                        <span>{{ scope.row.size | conversionBits }}</span> MB\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\" width=\"150\" align=\"center\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                        size=\"mini\"\n                        @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n                        <el-button\n                        size=\"mini\"\n                        type=\"danger\"\n                        @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n           </div>\n            <el-dialog\n                title=\"编辑文件描述\"\n                :visible.sync=\"dialogVisible\"\n                width=\"30%\"\n                :before-close=\"handleClose\">\n                <input type=\"text\" v-model=\"description\" style=\"border: 1px solid #DCDFE6;border-radius: 4px;line-height: 40px;width:95%\">\n                <span slot=\"footer\" class=\"dialog-footer\">\n                    <el-button @click=\"cancelRevision()\">取 消</el-button>\n                    <el-button type=\"primary\" @click=\"confirmRevision()\">确 定</el-button>\n                </span>\n                </el-dialog>\n        </div>\n        <div class=\"pagination-dv\">\n            <el-pagination\n                background\n                @size-change=\"handleSizeChange\"\n                @current-change=\"handleCurrentChange\"\n                :current-page.sync=\"pageNum\"\n                :page-size=\"pageSize\"\n                layout=\"total,prev, pager, next, jumper\"\n                :total=\"total\">\n            </el-pagination>\n        </div>\n    </div>\n</template>\n<script>\nimport Axios from 'axios'\nimport { javaServiceUrl } from './../../util/constant.js'\nexport default {\n     data() {\n      return {\n        options: [],//下拉框选项\n        valueId: '',//文件ID\n        fileDescription:'',//文件描述\n        tableData: [{\n                date: '2016-05-02',\n                content: '上海市普陀区金沙江路 1518 弄'\n        }],\n        pageSize:10,\n        total:0,\n        pageNum:1,//第几页\n        // currentPage:1,\n        dialogVisible: false,//编辑弹框\n        description:'',//编辑文件描述\n        prefixName:''\n      }\n    },\n    created(){\n        var storage = window.localStorage;\n        this.authorization = storage.getItem(\"userId\");\n        this.token = storage.getItem(\"token\");\n    },\n   \n    methods:{\n        //获取下拉框选中\n        getLabels(){\n            Axios({\n                url: javaServiceUrl + '/file/getLabels',\n                method: 'get',\n                headers: {\"Authorization\":\"user-\" + this.authorization + \"-\" +this.token},    \n                })\n                .then(res=>{\n                    if(res.data.msg){\n                        this.$router.push({\n                            name:'login',\n                        })\n                    }else{\n                        this.options = res.data;\n                    }\n                \n                })\n                .catch(err=>{\n                    console.log(err)\n                })\n        },\n        uploadSuccess(response, file, fileList){\n            \n                this.$message({\n                message: response,\n                type: 'success'\n            });\n                this.getFiles();\n                this.$refs.upload.clearFiles()\n                this.valueId = '';\n                this.fileDescription = '';\n                // this.authorization = '';\n        },\n        uploadError(err, file, fileList){\n            this.$message.error('文件上传失败！');\n        },\n        beforeUpload(){\n            if(this.cvalueId != \"\"){\n            }else{\n                this.$message({\n                    message: '文件ID或文件描述不能为空！',\n                    type: 'warning'\n                });\n                return false;\n            }\n        },\n        //获取上传列表\n        getFiles(){\n            Axios({\n                url: javaServiceUrl + '/file/getFiles',\n                method: 'get',\n                headers: {\"Authorization\":\"user-\" + this.authorization + \"-\" +this.token}, \n                params:{\n                    pageSize:this.pageSize,\n                    pageNum:this.pageNum - 1,\n                    // pageNum:pageNumber-1,\n                }\n                })\n                .then(res=>{\n                    if(res.data.msg){\n                        this.$router.push({\n                            name:'login',\n                        })\n                    }else{\n                        this.total = res.data.count;\n                        this.tableData = res.data.list;\n                    }\n                })\n                .catch(err=>{\n                    console.log(err)\n                })\n        },\n        handleSizeChange(val) {\n            console.log(`每页 ${val} 条`);\n        },\n        handleCurrentChange(val) {\n            this.pageNum = val;\n            this.getFiles(val);\n        },\n          //删除\n        handleDelete(index, row) {\n            console.log(index, row);\n            this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                     Axios({\n                            url: javaServiceUrl + '/file/delFile',\n                            method: 'get',\n                            headers: {\"Authorization\":\"user-\" + this.authorization + \"-\" +this.token}, \n                            params:{\n                                //-===============参数待修改\n                                prefixName:row.prefixName,\n                                fileName:row.fileName\n                            }   \n                        })\n                        .then(res=>{\n                            if(res.data.msg){\n                                this.$router.push({\n                                    name:'login',\n                                })\n                            }else{\n                                this.$message({\n                                    message: \"更新\"+res.data.code+'条！',\n                                    type: 'success'\n                                });\n                                this.getFiles();\n                            }\n                        })\n                        .catch(err=>{\n                            console.log(err)\n                        })\n                //     this.$message({\n                //     type: 'success',\n                //     message: '删除成功!'\n                // });\n                }).catch(() => {\n                    this.$message({\n                    type: 'info',\n                    message: '已取消删除'\n                });          \n            });\n        },\n        //编辑\n        handleEdit(index, row) {\n            this.dialogVisible = true;\n            this.description = row.description;\n            this.prefixName = row.prefixName;\n        },\n        //确定修改\n        confirmRevision(){\n            Axios({\n                url: javaServiceUrl + '/file/updateDescription',\n                method: 'get',\n                headers: {\"Authorization\":\"user-\" + this.authorization + \"-\" +this.token}, \n                params:{\n                    //参数待修改================================\n                    prefixName:this.prefixName,\n                    description:this.description,\n                }\n                })\n                .then(res=>{\n                    if(res.data.msg){\n                        this.$router.push({\n                            name:'login',\n                        })\n                    }else{\n                        this.$message({\n                            message: \"更新\"+res.data.code+'条！',\n                            type: 'success'\n                        });\n                        this.description = \"\";\n                        this.getFiles();\n                    }\n                })\n                .catch(err=>{\n                    console.log(err)\n                })\n            this.dialogVisible = false;\n        },\n        //取消修改\n        cancelRevision(){\n            this.dialogVisible = false;\n\n        },\n        // 关闭编辑弹框\n        handleClose(done) {\n            this.$confirm('确认关闭？')\n            .then(_ => {\n                done();\n            })\n            .catch(_ => {});\n        }\n    },\n    filters:{\n        conversionBits(value){\n            if(!value) return ''\n            return value.toFixed(2);\n        }\n    },\n    computed:{\n        myData(){\n            return{\n                \"prefixName\":this.valueId,\n                \"description\":this.fileDescription,\n            }\n        },\n        myHeader(){\n            return {\n                \"Authorization\":\"user-\" + this.authorization + \"-\" +this.token\n            }\n        },\n    },\n   \n    mounted(){\n        this.getLabels();\n        this.getFiles();//获取上传文件列表\n    },\n\n}\n</script>\n\n<style lang='scss' scoped>\n\n.fileUpload{\n    width: 100%;\n    height: 100%;\n    background: #fff;\n    padding: 20px;\n    h2{\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .upload-dv{\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        // background: pink;\n        margin-bottom: 20px;\n        \n        ul{\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            margin: 30px 0;\n            li{\n                margin-right: 20px;\n                // float: left;\n                input{\n                    border-radius: 4px;\n                    height: 40px;\n                    line-height: 40px;\n                    min-width: 200px;\n                    border: 1px solid #DCDFE6;\n                    vertical-align: middle;\n                    color: #606266;\n                    font-size: inherit;\n                    :-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n                        color: #DCDFE6;\n                    }\n                    ::-moz-placeholder { /* Mozilla Firefox 19+ */\n                        color: #DCDFE6;\n                    }\n                    input:-ms-input-placeholder{\n                        color: #DCDFE6;\n                    }\n                    input::-webkit-input-placeholder{\n                        color: #DCDFE6;\n                    }\n                }\n            }\n        }\n    }\n    .pagination-dv{\n        display: flex;\n        justify-content: flex-end;\n        margin-right: 10px;\n    }\n  \n    \n}\n</style>\n<style lang='scss'>\n.el-table__header{\n    width: 100%;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/fileUpload/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fileUpload\"},[_c('h2',[_vm._v(\"文件上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"upload-dv\"},[_c('ul',[_c('li',[_vm._v(\"\\n                文件ID:\\n                \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.valueId),callback:function ($$v) {_vm.valueId=$$v},expression:\"valueId\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.prefixName,attrs:{\"label\":item.id,\"value\":item.prefixName}})}),1)],1),_vm._v(\" \"),_c('li',[_vm._v(\"\\n                文件描述：\\n                \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fileDescription),expression:\"fileDescription\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入文件描述\"},domProps:{\"value\":(_vm.fileDescription)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.fileDescription=$event.target.value}}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"upload-dv\"},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"action\":\"https://betaj.ssymmetry.com/backStageManagement/file/upload\",\"data\":_vm.myData,\"headers\":_vm.myHeader,\"on-success\":_vm.uploadSuccess,\"on-error\":_vm.uploadError,\"before-upload\":_vm.beforeUpload,\"multiple\":\"\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击选择文件\")])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"upload-dv\"},[_c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"width\":\"120\",\"align\":\"center\",\"label\":\"文件ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fileName\",\"align\":\"center\",\"label\":\"文件名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"文件描述\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.description)?_c('span',[_vm._v(_vm._s(scope.row.description))]):_c('span',[_vm._v(\"——\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"updateTime\",\"width\":\"140\",\"align\":\"center\",\"label\":\"更新日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"120\",\"align\":\"center\",\"label\":\"文件大小\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"conversionBits\")(scope.row.size)))]),_vm._v(\" MB\\n                \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑文件描述\",\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticStyle:{\"border\":\"1px solid #DCDFE6\",\"border-radius\":\"4px\",\"line-height\":\"40px\",\"width\":\"95%\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.description=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.cancelRevision()}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.confirmRevision()}}},[_vm._v(\"确 定\")])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-dv\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-size\":_vm.pageSize,\"layout\":\"total,prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-90f4ecae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/fileUpload/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-90f4ecae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-90f4ecae\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-90f4ecae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-90f4ecae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/fileUpload/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}